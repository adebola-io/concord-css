console.log("streamline.app.vanilla.js imported.");class StreamlineComponent{runAll(){this.createBoardElement(),this.addDropDown(),this.addHoverClasses(),this.addVibration(),this.createSearchIcon()}createBoardElement(){document.querySelector("page-board")&&document.querySelectorAll("page-board").forEach((e=>{e.getAttribute("height")?e.style.height=e.getAttribute("height"):window.innerHeight<900&&(e.style.height=(window.innerHeight-48).toString()+"px");let t=document.createElement("div");t.classList.value="w100 h200";let r=document.createElement("div");r.classList.value="h50 w100 "+(e.getAttribute("background-class")?e.getAttribute("background-class"):""),r.style.backgroundImage=e.getAttribute("background-image")?e.getAttribute("background-image"):"",r.style.backgroundColor=e.getAttribute("background-color")?e.getAttribute("background-color"):"";let a=document.createElement("div");for(a.classList.value="w-initial h50 move-up "+e.classList.value,e.classList.value="overflow-h",a.innerHTML=e.innerHTML,t.append(r),t.append(a);e.firstChild;)e.removeChild(e.firstChild);e.append(t)}))}addDropDown(){document.querySelector("page-header")&&document.querySelector("page-header").querySelector(".drop-down-item")&&document.querySelectorAll("page-header").forEach((e=>{let t=window.getComputedStyle(e,null).getPropertyValue("color"),r=window.getComputedStyle(e,null).getPropertyValue("justify-content"),a=document.createElement("div"),o=document.createElement("div"),l=document.createElement("ul"),n=0,s=0,i=document.createElement("page-header");if(i.style.background="transparent",a.classList.value="fcol w100 h0 overflow-h header-drop-down",l.classList.value="w100 h100 p0 m0",e.querySelectorAll(".drop-down-item").forEach((e=>{let t=document.createElement("li");t.classList.value="txt-plain py-3 pleft-3",t.append(e.cloneNode(!0)),l.append(t)})),a.append(l),o.style.height=o.style.width=window.getComputedStyle(e,null).getPropertyValue("height"),o.innerHTML=`\n                        <div class="header-drop-btn-bar" style="background: ${t};"></div>\n                        <div class="header-drop-btn-bar" style="background: ${t};"></div>\n                        <div class="header-drop-btn-bar" style="background: ${t};"></div>`,o.classList.value="pointer fcol fcx "+("center"===r?"absolute left mleft-2 ":"")+"header-drop-btn",i.classList.value=e.classList.value+" header relative",i.innerHTML=e.innerHTML,i.prepend(o),document.body.firstChild.nextSibling===e){let e=document.createElement("header-space");document.body.prepend(e)}for(;e.firstChild;)e.removeChild(e.firstChild);e.append(i),e.style.flexDirection="column",e.style.height="fit-content",e.style.padding="0",e.style.width="100%",e.getAttribute("dropspeed")&&(a.style.transitionDuration=e.getAttribute("dropspeed"));let d=e.getAttribute("droptype");switch(d){case"pull":case"fade":e.append(a),"fade"===d&&(a.style.opacity="0"),a.style.height="fit-content";let t=a.offsetHeight+"px";a.style.height="0px",o.addEventListener("click",(()=>{n++,"fade"===d?(a.style.height=n%2==0?"0":"fit-content",a.style.opacity=n%2==0?"0":"1"):"pull"==d&&(a.style.height=n%2==0?"0":t)}));break;case"expand":l=document.createElement("div"),l.classList="s0 mright-auto mleft-2",a.classList.remove("w100","h0"),a.classList.add("brdr-curve-5px","shadow-2px"),a.style.transform="translateY(3px)",a.style.background=window.getComputedStyle(e,null).getPropertyValue("background"),l.append(a),a.style.height="fit-content",a.style.width="500px",e.append(l);let r="345px";t=a.offsetHeight-30+"px",a.style.height="0",a.style.width="0",o.addEventListener("click",(()=>{n++,a.style.width=n%2==0?"0":r,a.style.height=n%2==0?"0":t}));break;default:let l=document.createElement("div"),s=document.createElement("header-space");l.classList="s0 mright-auto ",a.classList.remove("h0"),a.classList.add("h100","move-left"),a.style.width="300px",l.append(s),l.append(a),e.prepend(l),a.style.height=(window.innerHeight-20).toString()+"px",a.style.background=window.getComputedStyle(e,null).getPropertyValue("background"),o.addEventListener("click",(()=>{n++,a.style.transform=n%2==0?"translate(-100%)":"translate(0)"}))}switch(e.getAttribute("droptoggle")){case"staircase":o.innerHTML=`\n                            <div class="header-drop-btn-stair-1" style="background: ${t}"></div>\n                            <div class="header-drop-btn-stair-2" style="background: ${t}"></div>\n                            <div class="header-drop-btn-bar" style="background: ${t}"></div>\n                        `;let e=o.querySelectorAll("div")[0],r=o.querySelectorAll("div")[1],a=o.querySelectorAll("div")[2];o.addEventListener("click",(()=>{s++,e.style.height=s%2==0?"5%":"0",r.style.width=s%2==0?"35%":"50%",r.style.transform=s%2==0?"none":"rotate(-45deg) translate(-19%, -94%)",a.style.transform=s%2==0?"none":"rotate(45deg) translate(-35%)"}));break;case"reverse-staircase":o.innerHTML=`\n                                <div class="header-drop-btn-bar" style="background: ${t}"></div>\n                                <div class="header-drop-btn-stair-2" style="background: ${t}"></div>\n                                <div class="header-drop-btn-stair-1" style="background: ${t}"></div>\n                            `;break;case"sandwich":o.innerHTML=`\n                                <div class="header-drop-btn-bar" style="background: ${t}"></div>\n                                <div class="header-drop-btn-bar" style="background: ${t}"></div>\n                            `,o.addEventListener("click",(()=>{s++;let e=o.querySelectorAll(".header-drop-btn-bar")[0],t=o.querySelectorAll(".header-drop-btn-bar")[1];e.style.transform="rotate("+(s%2==0?"0":"45")+"deg)",t.style.transform="rotate("+(s%2==0?"0":"-45")+"deg)",e.style.margin=s%2==0?"5%":"0",t.style.margin=s%2==0?"5%":"0"}))}let c=e.getAttribute("dropcolor");c&&(a.style.backgroundColor=c)}))}addHoverClasses(){document.querySelector("[hover-class]")&&document.querySelectorAll("[hover-class]").forEach((e=>{let t=e.classList.value;e.addEventListener("mouseover",(()=>{e.classList.value=e.classList.value+" "+e.getAttribute("hover-class"),this.addVibration()})),e.addEventListener("mouseout",(()=>{e.classList.value=t}))}))}addVibration(){document.querySelector(".hover-vibrate")&&document.querySelectorAll(".hover-vibrate").forEach((e=>{e.animate([{transform:"translateX(-1%)"},{transform:"translateX(1%)"},{transform:"translateX(-1%)"},{transform:"translateX(1%)"}],{duration:450,iterations:this.vibration})}))}createSearchIcon(){document.querySelector("search-icon")&&document.querySelectorAll("search-icon").forEach((e=>{let t=e.getAttribute("color"),r=e.getAttribute("size");t&&(e.style.setProperty("--searchIconColor",t),console.log(e.style.searchColor)),r&&(e.style.height=e.style.width=r)}))}triggerPopup(e){if(document.querySelector(`page-popup[name='${e}']`)){let t=document.querySelector(`page-popup[name='${e}']`).cloneNode(!0),r=document.createElement("page-popup-container");if(r.append(t),r.setAttribute("name",e),document.body.append(r),"expand"===t.getAttribute("type"))t.animate([{transform:"scale(0.8)"},{transform:"scale(1.2)"},{transform:"scale(1)"}],{duration:300,iterations:1,fill:"forwards"}),r.addEventListener("click",(e=>{e.target!==t&&(t.animate([{transform:"scale(1)"},{transform:"scale(1.2)"},{opacity:"0",transform:"scale(0.8)"}],{duration:300,iterations:1,fill:"forwards"}),setTimeout((()=>{r.remove()}),300))}));else t.animate([{transform:"scale(1.2)",filter:"opacity(0)"},{transform:"scale(1)",filter:"opacity(1)"}],{duration:200,iterations:1,fill:"forwards"}),r.addEventListener("click",(e=>{e.target!==t&&(t.animate([{transform:"scale(1)",filter:"opacity(1)"},{transform:"scale(1.2)",filter:"opacity(0)"}],{duration:200,iterations:1,fill:"forwards"}),setTimeout((()=>{r.remove()}),300))}))}else console.error(`The popup ${e} does not exist.`)}dismissPopup(e){if(document.querySelector(`page-popup-container[name='${e}']`)){let t=document.querySelector(`page-popup-container[name='${e}']`).querySelector("page-popup");if("expand"===t.getAttribute("type"))t.animate([{transform:"scale(1)"},{transform:"scale(1.2)"},{opacity:"0",transform:"scale(0.8)"}],{duration:300,iterations:1,fill:"forwards"}),setTimeout((()=>{popupContainer.remove()}),300);else t.animate([{transform:"scale(1)",filter:"opacity(1)"},{transform:"scale(1.2)",filter:"opacity(0)"}],{duration:200,iterations:1,fill:"forwards"}),setTimeout((()=>{popupContainer.remove()}),300)}else console.error(`The popup ${e} is not open.`)}setThemeColor(e){document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').remove();let t=document.createElement("meta");t.name="theme-color",t.content=e,document.querySelector("head").append(t)}}let Streamline=new StreamlineComponent;Streamline.runAll(),window.Streamline=Streamline;
